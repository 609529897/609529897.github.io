<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>hexo åˆ›å»ºåšå®¢è¸©çš„å‘</title>
    <url>/2020/05/03/hexo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%B8%A9%E7%9A%84%E5%9D%91/</url>
    <content><![CDATA[<p>â€‹        ç¬¬ä¸€æ¬¡å†™åšå®¢é‚£å°±åæ§½ä¸€ä¸‹ç”¨ hexo åˆ›å»ºåšå®¢è¸©çš„å‘å§</p>
<p>â€‹        è¿™å°¼ç›å¦‚æœåœ¨ source/_posts ç›®å½•ä¸‹æ²¡æœ‰ .md æ–‡ä»¶æ˜¯ä¸èƒ½ <code>hexo g</code> åˆ›å»º .html é™æ€æ–‡ä»¶çš„ï¼ŒåºŸäº†è€åŠå¤©åŠ²æ‰</p>
<p>å‘ç°ã€‚æ°”æ­»æˆ‘äº†å¸Œæœ›å¤§å®¶åˆ«è¸©æˆ‘è¿™å‘äº†ï¼ï¼ˆè‡ªåŠ¨åˆ›å»ºåæœ‰ä¸€ä¸ª hello_world.md æ–‡ä»¶çš„ï¼Œä½†æˆ‘è¿™äººå¼ºè¿«ç—‡å‘ä½œæŠŠå®ƒ</p>
<p>åˆ äº†ğŸ˜€ï¼‰</p>
]]></content>
      <tags>
        <tag>åæ§½</tag>
      </tags>
  </entry>
  <entry>
    <title>git åŸºæœ¬æŒ‡ä»¤</title>
    <url>/2020/05/04/git%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4/</url>
    <content><![CDATA[<p><strong>æäº¤æ–‡ä»¶</strong></p>
<p>åˆå§‹åŒ– Git <code>git init</code> </p>
<p>æŠŠä¿®æ”¹å’Œæ–°å¢çš„æ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒº <code>git add .</code></p>
<p>æäº¤æš‚å­˜åŒºçš„æ–‡ä»¶åˆ°ä»“åº“ <code>git commit -m &quot;å¯¹æäº¤çš„æè¿°&quot;</code></p>
<p>æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ <code>git status</code>ï¼š</p>
<ul>
<li>çº¢è‰²ï¼šæ–°å»ºæ–‡ä»¶ã€æ–‡ä»¶å†…å®¹è¢«æ”¹åŠ¨ã€æ–‡ä»¶è¢«åˆ é™¤</li>
<li>ç»¿è‰²ï¼šåœ¨æš‚å­˜åŒºç­‰å¾…è¢« commit</li>
<li>working tree cleanï¼šå·²ç» commit æˆ–è€…æ–‡æ¡£æ²¡æœ‰è¢«æ”¹åŠ¨</li>
</ul>
<hr>
<p><strong>ç‰ˆæœ¬å›é€€</strong></p>
<p>æŸ¥çœ‹æäº¤å†å² <code>git log</code></p>
<p>æŸ¥çœ‹å‘½ä»¤å†å² <code>git reflog</code></p>
<p>å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ˆå°±æ˜¯ä¸Šä¸€æ¬¡ commit å‰çš„çŠ¶æ€ï¼‰<code>git reset --hard HEAD^</code></p>
<blockquote>
<p>^ è¡¨ç¤ºä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œ^^ è¡¨ç¤ºä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬ä¾æ¬¡ç±»æ¨</p>
</blockquote>
<p>å›é€€åˆ°ä¸Šä¸€ä¸ªæŒ‡å®šçš„ç‰ˆæœ¬ <code>git reset --hard commit_id</code></p>
<blockquote>
<p>commit_idï¼šä½¿ç”¨ git log æŸ¥çœ‹</p>
</blockquote>
<hr>
<p><strong>è¿œç¨‹ä»“åº“</strong></p>
<blockquote>
<p>ä»¥ Github ä¸ºä¾‹ï¼Œé…ç½® Github <a href="https://www.liaoxuefeng.com/wiki/896043488029600/896954117292416" target="_blank" rel="noopener">å»–é›ªå³° Git æ•™ç¨‹</a></p>
</blockquote>
<p>é…ç½®å¯†é’¥åˆ›å»ºè¿œç¨‹ä»“åº“åï¼Œå…³è”è¿œç¨‹ä»“åº“ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git remote add origin git@ä½ çš„ github åœ°å€/ä»“åº“å.git</span><br></pre></td></tr></table></figure>

<p>æ¨é€åˆ°è¿œç¨‹ä»“åº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä»¥åæƒ³è¦æ¨é€åˆ°è¿œç¨‹ä»“åº“åªè¦ <code>git commit -m &quot;msg&quot;</code> å <code>git push</code> å°±å¯ä»¥</p>
</blockquote>
<p>å…‹éš†ä»“åº“æ–‡ä»¶åˆ°æœ¬åœ°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> git@github.com:xxx/xxx.git</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>åˆ†æ”¯æ“ä½œ</strong></p>
<blockquote>
<p>master æ˜¯ä¸»åˆ†æ”¯ï¼Œå…¬å¸ä¸€èˆ¬ç”¨äºä¸Šçº¿é¡¹ç›®ã€‚è€Œå¹³å¸¸æäº¤ä»£ç ä¸€èˆ¬ä¼šåœ¨å¦å¤–æ–°å»ºåˆ†æ”¯è¿›è¡Œæäº¤</p>
</blockquote>
<p>æŸ¥çœ‹åˆ†æ”¯ï¼š<code>git branch</code></p>
<p>åˆ›å»ºåˆ†æ”¯ï¼š<code>git branch &lt;name&gt;</code></p>
<p>åˆ‡æ¢åˆ†æ”¯ï¼š<code>git checkout &lt;name&gt;</code>æˆ–è€…<code>git switch &lt;name&gt;</code></p>
<p>åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼š<code>git checkout -b &lt;name&gt;</code>æˆ–è€…<code>git switch -c &lt;name&gt;</code></p>
<p>åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼š<code>git merge &lt;name&gt;</code></p>
<p>åˆ é™¤åˆ†æ”¯ï¼š<code>git branch -d &lt;name&gt;</code></p>
<hr>
<p><strong>æ ‡ç­¾ç®¡ç†</strong></p>
<p>å‘½ä»¤<code>git tag &lt;tagname&gt;</code> ç”¨äºæ–°å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œé»˜è®¤ä¸º<code>HEAD</code>ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªcommit idï¼›</p>
<p>å‘½ä»¤<code>git tag -a &lt;tagname&gt; -m &quot;blablabla...&quot;</code>å¯ä»¥æŒ‡å®šæ ‡ç­¾ä¿¡æ¯ï¼›</p>
<p>å‘½ä»¤<code>git tag</code>å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ã€‚</p>
<p>æ“ä½œæ ‡ç­¾ï¼š</p>
<ul>
<li>å‘½ä»¤<code>git push origin</code>å¯ä»¥æ¨é€ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›</li>
<li>å‘½ä»¤<code>git push origin --tags</code>å¯ä»¥æ¨é€å…¨éƒ¨æœªæ¨é€è¿‡çš„æœ¬åœ°æ ‡ç­¾ï¼›</li>
<li>å‘½ä»¤<code>git tag -d &lt;tagname&gt;</code>å¯ä»¥åˆ é™¤ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›</li>
<li>å‘½ä»¤<code>git push origin :refs/tags/&lt;tagname&gt;</code>å¯ä»¥åˆ é™¤ä¸€ä¸ªè¿œç¨‹æ ‡ç­¾ã€‚</li>
</ul>
<hr>
<blockquote>
<p>è¯¦ç»†å†…å®¹ <a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener">å»–é›ªå³° Git æ•™ç¨‹</a></p>
</blockquote>
]]></content>
      <tags>
        <tag>è®¡ç®—æœºè½¯ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>redux, react-redux</title>
    <url>/2020/05/07/redux/</url>
    <content><![CDATA[<h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><ul>
<li><p>å…¨å±€çŠ¶æ€ç®¡ç†æ¨¡å—</p>
</li>
<li><p>ç®¡ç†ç»„ä»¶ä¹‹é—´ä¼ é€’çš„æ•°æ®</p>
</li>
</ul>
<p><strong>ä¸‰ä¸ªé‡è¦éƒ¨åˆ†</strong></p>
<ul>
<li><p><code>action</code></p>
</li>
<li><p><code>reducer</code>ï¼šè¿›è¡ŒçŠ¶æ€ä¿®æ”¹</p>
</li>
<li><p><code>state(store)</code>ï¼šå­˜å‚¨æ•°æ®çš„åœ°æ–¹</p>
</li>
</ul>
<blockquote>
<p>dispatch æ˜¯æ´¾å‘çš„äº‹ä»¶</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123; createStore &#125; from &#39;redux&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; reducer</span><br><span class="line">const counterReducer &#x3D; (state &#x3D; &#123; count: 1 &#125;, action) &#x3D;&gt; &#123;</span><br><span class="line">  return state</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; store</span><br><span class="line">const store &#x3D; createStore(counterReducer);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¦‚æœéœ€è¦æ”¹å˜ä¸€ä¸ª reducer çš„å€¼ï¼Œéœ€è¦ä½¿ç”¨ dispatch æ´¾å‘ä¸€ä¸ª action</span><br><span class="line">&#x2F;&#x2F; action éœ€è¦ä¸¤ä¸ªå‚æ•°</span><br><span class="line">&#x2F;&#x2F; 1. type    éœ€è¦ä½¿ç”¨ type åŒºåˆ†å¯¹ state åšä»€ä¹ˆæ“ä½œ</span><br><span class="line">&#x2F;&#x2F; 2. payload ä¼ é€’çš„æ•°æ®</span><br><span class="line"></span><br><span class="line">const counterReducer &#x3D; (state &#x3D; &#123; count: 1 &#125;, action) &#x3D;&gt; &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case &#39;COUNT_ADD&#39;:</span><br><span class="line">      return &#123;</span><br><span class="line">        ...state, count: state.count + 1</span><br><span class="line">      &#125;;</span><br><span class="line">    case &#39;COUNT_REDUCE&#39;:</span><br><span class="line">      return &#123;</span><br><span class="line">        ...state, count: state.count - 1</span><br><span class="line">      &#125;;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store &#x3D; createStore(counterReducer);</span><br><span class="line"></span><br><span class="line">store.dispatch(&#123;</span><br><span class="line">  type: &#39;COUNT_ADD&#39;,</span><br><span class="line">  payload: &#123;&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">store.dispatch(&#123;</span><br><span class="line">  type: &#39;COUNT_REDUCE&#39;,</span><br><span class="line">  payload: &#123;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨ chrome æ’ä»¶æŸ¥çœ‹çŠ¶æ€</strong></p>
<ul>
<li>Redux DevTools</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const store &#x3D; createStore( </span><br><span class="line">    counterReducer</span><br><span class="line">    window.__REDUX_DEVTOOLS_EXTENSION_ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>ä½¿ç”¨å¤šä¸ª reducer</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ä½¿ç”¨ combineReducers</span><br><span class="line">import &#123; createStore, combineReducers &#125; from &#39;redux&#39;</span><br><span class="line"></span><br><span class="line">const counterReducer &#x3D; (state &#x3D; &#123; count: 1 &#125;, action) &#x3D;&gt; &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case &#39;COUNT_ADD&#39;:</span><br><span class="line">      return &#123;</span><br><span class="line">        ...state, count: state.count + 1</span><br><span class="line">      &#125;;</span><br><span class="line">    case &#39;COUNT_REDUCE&#39;:</span><br><span class="line">      return &#123;</span><br><span class="line">        ...state, count: state.count - 1</span><br><span class="line">      &#125;;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const postReducer &#x3D; (state &#x3D; &#123; list: [&#123; title: &#39;ä½ å¥½ï¼&#39; &#125;] &#125;, action) &#x3D;&gt; &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case &#39;LOAD_POST&#39;:</span><br><span class="line">      return &#123;</span><br><span class="line">        ...state, list: action.payload</span><br><span class="line">      &#125;;</span><br><span class="line">    default:</span><br><span class="line">      return state</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;é€šè¿‡ combineReducers æŠŠå¤šä¸ª reducer è¿›è¡Œåˆå¹¶</span><br><span class="line">const rootReducers &#x3D; combineReducers(&#123;</span><br><span class="line">  counter: counterReducer,</span><br><span class="line">  post: postReducer</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const store &#x3D; createStore( </span><br><span class="line">    rootReducers,</span><br><span class="line">    window.__REDUX_DEVTOOLS_EXTENSION_ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>redux çš„ç½‘ç»œè¯·æ±‚</strong></p>
<blockquote>
<p>json holderï¼šç½‘ç«™ï¼Œä¼šæä¾›åœ¨çº¿çš„ API</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> redux ä½¿ç”¨ redux-thunk æ’ä»¶è¿›è¡Œç½‘ç»œè¯·æ±‚</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yarn add redux-thunk </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yarn add axios</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¯¼å…¥éœ€è¦çš„æ’ä»¶</span><br><span class="line">import &#123; createStore, combineReducers, compose, applyMiddleware &#125; from &#39;redux&#39;</span><br><span class="line">import &#123; get &#125; from &#39;axios&#39;</span><br><span class="line">import thunk from &#39;redux-thunk&#39;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; é…ç½® store</span><br><span class="line">const store &#x3D; createStore(</span><br><span class="line">    rootReducers,</span><br><span class="line">    compose(</span><br><span class="line">        applyMiddleware(...[thunk])  &#x2F;&#x2F;éœ€è¦ä½¿ç”¨çš„ä¸­é—´ä»¶æ•°ç»„</span><br><span class="line">    ),</span><br><span class="line">    window.__REDUX_DEVTOOLS_EXTENSION_ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const getPostsRequest &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    return get(&#39;https:&#x2F;&#x2F;xxx.com&#x2F;posts&#39;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">store.dispatch(async (dispatch) &#x3D;&gt; &#123;</span><br><span class="line">    const res &#x3D; await getPostsRequest();</span><br><span class="line">    dispatch(&#123;</span><br><span class="line">        type: &#39;LOAD_POST&#39;,</span><br><span class="line">        payload: res.data</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>æ‹†åˆ†ä»£ç ï¼Œä½¿å…¶é˜…è¯»æ›´åˆç†</strong></p>
<ul>
<li>åœ¨ src æ–‡ä»¶å¤¹ä¸‹åˆ›å»º actions æ–‡ä»¶å¤¹ï¼ŒæŠŠæ‰€æœ‰çš„ action æ–‡ä»¶æ”¾åœ¨é‡Œé¢</li>
<li>åœ¨ src æ–‡ä»¶å¤¹ä¸‹åˆ›å»º reducers æ–‡ä»¶å¤¹ï¼ŒæŠŠæ‰€æœ‰çš„ reducer æ–‡ä»¶æ”¾åœ¨é‡Œé¢</li>
<li>åœ¨ src æ–‡ä»¶å¤¹ä¸‹åˆ›å»º services æ–‡ä»¶å¤¹ï¼ŒæŠŠæ‰€æœ‰çš„å…³äºç½‘ç»œè¯·æ±‚å¾—æ–‡ä»¶æ”¾åœ¨é‡Œé¢</li>
<li>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º store.js æ–‡ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; src&#x2F;services&#x2F;post_api.js</span><br><span class="line">import &#123; get &#125; from &#39;axios&#39;</span><br><span class="line"></span><br><span class="line">export function getPosts() &#123;</span><br><span class="line">    return get(&#39;https:&#x2F;&#x2F;xxx.com&#x2F;posts&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; src&#x2F;actions&#x2F;counter_action.js</span><br><span class="line">export const countAddAction &#x3D; &#123;</span><br><span class="line">    type: &#39;COUNT_ADD&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export const countReduceAction &#x3D; &#123;</span><br><span class="line">    type: &#39;COUNT_REDUCE&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; src&#x2F;actions&#x2F;post_action.js</span><br><span class="line">import &#123; getPosts &#125; from &#39;..&#x2F;services&#x2F;post_api&#39;</span><br><span class="line"></span><br><span class="line">export const loadPostsAction &#x3D; async (dispatch) &#x3D;&gt; &#123;</span><br><span class="line">    const res &#x3D; await getPosts();</span><br><span class="line">    dispatch(&#123;</span><br><span class="line">        type: &#39;LOAD_POSTS&#39;,</span><br><span class="line">        payload: res.data</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; src&#x2F;reducers&#x2F;post_reducer.js</span><br><span class="line">const postReducer &#x3D; (state &#x3D; &#123; list: [&#123; id: 1, title: &#39;ä½ å¥½ï¼&#39; &#125;] &#125;, action) &#x3D;&gt; &#123;</span><br><span class="line">    switch (action.type) &#123;</span><br><span class="line">        case &#39;LOAD_POST&#39;:</span><br><span class="line">            return &#123;</span><br><span class="line">                ...state, list: action.payload</span><br><span class="line">            &#125;;</span><br><span class="line">        default:</span><br><span class="line">            return state</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default postReducer;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; src&#x2F;reducers&#x2F;counter_reducer.js</span><br><span class="line">const counterReducer &#x3D; (state &#x3D; &#123; count: 1 &#125;, action) &#x3D;&gt; &#123;</span><br><span class="line">    switch (action.type) &#123;</span><br><span class="line">        case &#39;COUNT_ADD&#39;:</span><br><span class="line">            return &#123;</span><br><span class="line">                ...state, count: state.count + 1</span><br><span class="line">            &#125;;</span><br><span class="line">        case &#39;COUNT_REDUCE&#39;:</span><br><span class="line">            return &#123;</span><br><span class="line">                ...state, count: state.count - 1</span><br><span class="line">            &#125;;</span><br><span class="line">        default:</span><br><span class="line">            return state;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default counterReducer;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; src&#x2F;reducers&#x2F;index.js</span><br><span class="line">&#x2F;&#x2F;åˆå¹¶ reducer</span><br><span class="line">import &#123; combineReducers &#125; from &#39;redux&#39;</span><br><span class="line"></span><br><span class="line">import counterReducer from &#39;.&#x2F;counter_reducer&#39;</span><br><span class="line">import postReducer from &#39;.&#x2F;post_reducer&#39;</span><br><span class="line"></span><br><span class="line">const rootReducers &#x3D; combineReducers(&#123;</span><br><span class="line">    counter: counterReducer,</span><br><span class="line">    post: postReducer</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default rootReducers;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; src&#x2F;store.js</span><br><span class="line">&#x2F;&#x2F;åˆå¹¶ store</span><br><span class="line"></span><br><span class="line">import &#123; createStore, compose, applyMiddleware &#125; from &#39;redux&#39;</span><br><span class="line">import thunk from &#39;redux-thunk&#39;</span><br><span class="line"></span><br><span class="line">import rootReducers from &#39;.&#x2F;reducers&#x2F;index&#39;</span><br><span class="line"></span><br><span class="line">const store &#x3D; createStore(</span><br><span class="line">    rootReducers,</span><br><span class="line">    compose(</span><br><span class="line">        applyMiddleware(...[thunk])</span><br><span class="line">    ),</span><br><span class="line">    window.__REDUX_DEVTOOLS_EXTENSION_ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">export default store;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å¼•ç”¨ store</span><br><span class="line">import store from &#39;.&#x2F;store&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ“ä½œ</span><br><span class="line">import &#123; countAddAction &#125; from &#39;.&#x2F;actions&#x2F;counter_action&#39;</span><br><span class="line">import &#123; loadPostsAction &#125; from &#39;.&#x2F;actions&#x2F;post_action&#39;</span><br><span class="line"></span><br><span class="line">store.dispatch(countAddAction);</span><br><span class="line">store.dispatch(loadPostsAction);</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="åœ¨-react-ä½¿ç”¨-redux"><a href="#åœ¨-react-ä½¿ç”¨-redux" class="headerlink" title="åœ¨ react ä½¿ç”¨ redux"></a>åœ¨ react ä½¿ç”¨ redux</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> éœ€è¦å®‰è£…æ’ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yarn add react-redux</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React from &#39;react&#39;</span><br><span class="line">import ReactDOM from &#39;react-dom&#39;</span><br><span class="line">import &#123; Provider &#125; from &#39;react-redux&#39;</span><br><span class="line"></span><br><span class="line">import App from &#39;.&#x2F;App&#39;</span><br><span class="line"></span><br><span class="line">import store from &#39;.&#x2F;store&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ react-redux çš„ Provider å…ƒç´ æŠŠ &lt;App &#x2F;&gt; åŒ…è£¹èµ·æ¥ï¼Œè¿™æ ·æ‰€æœ‰çš„ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨ store é‡Œé¢çš„æ•°æ®</span><br><span class="line">ReactDOM.render(&lt;Provider store&#x3D;&#123;store&#125;&gt;</span><br><span class="line">    &lt;App &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Provider&gt;, document.getElementById(&#39;root&#39;));</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ä½¿ç”¨ connect ç»„ä»¶æ ¹ redux è¿æ¥</span><br><span class="line">import React, &#123; Component &#125; from &#39;react&#39;</span><br><span class="line">import &#123; connect &#125; from &#39;react-redux&#39;</span><br><span class="line">import &#123; loadPostsAction &#125; from &#39;..&#x2F;actions&#x2F;post_action&#39;</span><br><span class="line"></span><br><span class="line">class PostList extends Component &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        console.log(this.props);</span><br><span class="line">    &#125;;</span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        this.props.dispatch(loadPostsAction); &#x2F;&#x2F;åŠ è½½è¿œç¨‹æ•°æ®</span><br><span class="line">    &#125;;</span><br><span class="line">    render() &#123;</span><br><span class="line">        const &#123; list &#125; &#x3D; this.props.post;</span><br><span class="line">        const Posts &#x3D; list.map(post&#x3D;&gt;&#123;</span><br><span class="line">            return (&lt;li key&#x3D;&#123;post.id&#125;&gt;&#123;post.title&#125;&lt;&#x2F;li&gt;)</span><br><span class="line">        &#125;)</span><br><span class="line">        return (</span><br><span class="line">            &lt; div &gt;</span><br><span class="line">                &lt;ul&gt;&#123; Posts &#125;&lt;&#x2F;ul&gt;</span><br><span class="line">            &lt;&#x2F;div &gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const mapStateToProps &#x3D; (state, ownProps) &#x3D;&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        post: state.post</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é€šè¿‡ connect è¿æ¥ç»„ä»¶å’Œ redux æ•°æ®ï¼Œä¼ é€’ state æ•°æ®å’Œ dispatch æ–¹æ³•</span><br><span class="line">export default connect(mapStateToProps)(PostList);</span><br></pre></td></tr></table></figure>

<hr>
<p>##</p>
]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
</search>
