<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å‰ç«¯ Cache</title>
    <url>/2020/05/30/Cache/</url>
    <content><![CDATA[<h2 id="å‰ç«¯ç¼“å­˜-åç«¯ç¼“å­˜"><a href="#å‰ç«¯ç¼“å­˜-åç«¯ç¼“å­˜" class="headerlink" title="å‰ç«¯ç¼“å­˜/åç«¯ç¼“å­˜"></a>å‰ç«¯ç¼“å­˜/åç«¯ç¼“å­˜</h2><p>åŸºæœ¬çš„ç½‘ç»œè¯·æ±‚åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ <code>è¯·æ±‚</code>ã€<code>å¤„ç†</code>ã€<code>å“åº”</code>ã€‚</p>
<p>è€Œåç«¯ç¼“å­˜ä¸»è¦é›†ä¸­åœ¨ <code>å¤„ç†</code> æ­¥éª¤ï¼Œé€šè¿‡ä¿ç•™æ•°æ®åº“è¿æ¥æˆ–è€…ä¿å­˜å¤„ç†ç»“æœæ¥ç¼©çŸ­å¤„ç†æ—¶é—´å°½å¿«è¿›å…¥â€œå“åº”â€æ­¥éª¤ã€‚</p>
<p>è€Œå‰ç«¯ç¼“å­˜é‚£å°±é›†ä¸­åœ¨ <code>è¯·æ±‚</code> å’Œ <code>å“åº”</code> æ­¥éª¤ï¼Œå“åº”éœ€è¦è·Ÿåç«¯å…±åŒé…åˆã€‚æµè§ˆå™¨å¯ä»¥é€šè¿‡å­˜å‚¨ç»“æœçš„æ–¹å¼çœå»å‘é€</p>
<p>è¯·æ±‚çš„æ­¥éª¤ï¼Œå“åº”é˜¶æ®µå¯ä»¥å‡å°‘å“åº”å†…å®¹æ¥ç¼©çŸ­ä¼ è¾“æ—¶é—´ã€‚</p>
<p><strong>ç¼“å­˜çš„åˆ†ç±»</strong></p>
<p>æŒ‰ç¼“å­˜ä½ç½®ï¼š</p>
<ul>
<li>memory cache  å†…å­˜ç¼“å­˜</li>
<li>disk cache          ç¡¬ç›˜ç¼“å­˜</li>
<li>Service Worker  Cache Storage</li>
</ul>
<p>æŒ‰å¤±æ•ˆç­–ç•¥ï¼š</p>
<ul>
<li>å¼ºç¼“å­˜                  Cache-Control, Expires</li>
<li>åå•†ç¼“å­˜               Last-Modified &amp; If-Modified-Since, Etag &amp; If-None-Match</li>
</ul>
<p>Cache-Control å¸¸ç”¨çš„å€¼</p>
<ul>
<li><code>max-age</code>ï¼šå³æœ€å¤§æœ‰æ•ˆæ—¶é—´</li>
<li><code>must-revalidate</code>ï¼šå¦‚æœè¶…è¿‡äº† <code>max-age</code> çš„æ—¶é—´ï¼Œæµè§ˆå™¨å¿…é¡»å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒéªŒè¯èµ„æºæ˜¯å¦è¿˜æœ‰æ•ˆã€‚</li>
<li><code>no-cache</code>ï¼šè™½ç„¶å­—é¢æ„æ€æ˜¯â€œä¸è¦ç¼“å­˜â€ï¼Œä½†å®é™…ä¸Šè¿˜æ˜¯è¦æ±‚å®¢æˆ·ç«¯ç¼“å­˜å†…å®¹çš„ï¼Œåªæ˜¯æ˜¯å¦ä½¿ç”¨è¿™ä¸ªå†…å®¹ç”±åç»­çš„å¯¹æ¯”æ¥å†³å®šã€‚</li>
<li><code>no-store</code>: çœŸæ­£æ„ä¹‰ä¸Šçš„â€œä¸è¦ç¼“å­˜â€ã€‚æ‰€æœ‰å†…å®¹éƒ½ä¸èµ°ç¼“å­˜ï¼ŒåŒ…æ‹¬å¼ºåˆ¶å’Œå¯¹æ¯”ã€‚</li>
<li><code>public</code>ï¼šæ‰€æœ‰çš„å†…å®¹éƒ½å¯ä»¥è¢«ç¼“å­˜ (åŒ…æ‹¬å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨ï¼Œ å¦‚ CDN)</li>
<li><code>private</code>ï¼šæ‰€æœ‰çš„å†…å®¹åªæœ‰å®¢æˆ·ç«¯æ‰å¯ä»¥ç¼“å­˜ï¼Œä»£ç†æœåŠ¡å™¨ä¸èƒ½ç¼“å­˜ã€‚é»˜è®¤å€¼ã€‚</li>
</ul>
<blockquote>
<p><strong>Cache-control çš„ä¼˜å…ˆçº§é«˜äº Expires</strong>ï¼Œä¸ºäº†å…¼å®¹ HTTP/1.0 å’Œ HTTP/1.1ï¼Œå®é™…é¡¹ç›®ä¸­ä¸¤ä¸ªå­—æ®µæˆ‘ä»¬éƒ½ä¼šè®¾ç½®ã€‚</p>
</blockquote>
<p>å½“æµè§ˆå™¨è¦è¯·æ±‚èµ„æºæ—¶</p>
<ol>
<li><p>è°ƒç”¨ Service Worker çš„ <code>fetch</code> äº‹ä»¶å“åº”</p>
</li>
<li><p>æŸ¥çœ‹ memory cache</p>
</li>
<li><p>æŸ¥çœ‹ disk cacheã€‚è¿™é‡Œåˆç»†åˆ†ï¼š</p>
</li>
<li><ul>
<li>å¦‚æœæœ‰å¼ºåˆ¶ç¼“å­˜ä¸”æœªå¤±æ•ˆï¼Œåˆ™ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜ï¼Œä¸è¯·æ±‚æœåŠ¡å™¨ã€‚è¿™æ—¶çš„çŠ¶æ€ç å…¨éƒ¨æ˜¯ 200</li>
</ul>
</li>
<li><ul>
<li>å¦‚æœæœ‰å¼ºåˆ¶ç¼“å­˜ä½†å·²å¤±æ•ˆï¼Œä½¿ç”¨å¯¹æ¯”ç¼“å­˜ï¼Œæ¯”è¾ƒåç¡®å®š 304 è¿˜æ˜¯ 200</li>
</ul>
</li>
<li><p>å‘é€ç½‘ç»œè¯·æ±‚ï¼Œç­‰å¾…ç½‘ç»œå“åº”</p>
</li>
<li><p>æŠŠå“åº”å†…å®¹å­˜å…¥ disk cache (å¦‚æœ HTTP å¤´ä¿¡æ¯é…ç½®å¯ä»¥å­˜çš„è¯)</p>
</li>
<li><p>æŠŠå“åº”å†…å®¹ <strong>çš„å¼•ç”¨</strong> å­˜å…¥ memory cache (æ— è§† HTTP å¤´ä¿¡æ¯çš„é…ç½®)</p>
</li>
<li><p>æŠŠå“åº”å†…å®¹å­˜å…¥ Service Worker çš„ Cache Storage (å¦‚æœ Service Worker çš„è„šæœ¬è°ƒç”¨äº† <code>cache.put()</code>)</p>
</li>
</ol>
<blockquote>
<p>åŸæ–‡ï¼š<a href="https://zhuanlan.zhihu.com/p/44789005" target="_blank" rel="noopener">å°è˜‘è‡å“¥å“¥</a></p>
</blockquote>
]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>JS äº‹ä»¶è®¢é˜…æ¨¡å¼å®ç°</title>
    <url>/2020/05/25/EventFuc/</url>
    <content><![CDATA[<p><strong>äº‹ä»¶è®¢é˜…æ¨¡å¼</strong></p>
<p>ä½ ä»æ·˜å®ä¸Šé€‰è´­äº†ä¸€ä»¶è¡£æœï¼Œä½†æ˜¯ä½ ç©¿çš„å°ºç åˆšå¥½æ–­è´§ï¼Œåº—å‘˜å‘ä½ ä¿è¯ä¼šä¸Šè´§ã€‚è¿™æ—¶ä½ å¯¹åº—å‘˜è¯´å½“è¿™ä»¶è¡£æœæœ‰æˆ‘å°ºç çš„æ—¶å€™ç»™æˆ‘å‘é€ä¿¡æ¯ï¼ˆè®¢é˜… listenï¼‰ã€‚è¿‡äº†å‡ å¤©æ–°è´§ä¸Šæ¶ï¼Œåº—å‘˜é€šçŸ¥äº†æ‰€æœ‰çš„è®¢é˜…çš„ç”¨æˆ·æ–°è´§ä¸Šæ¶äº†ï¼ˆå‘å¸ƒtriggerï¼‰ã€‚è¿™å°±æ˜¯äº‹ä»¶è®¢é˜…çš„é€»è¾‘äº†ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å–æ¶ˆè®¢é˜…ï¼ˆå–æ¶ˆè®¢é˜… removeï¼‰ã€‚ä¸‹é¢ä»£ç æ˜¯äº‹ä»¶è®¢é˜…æ¨¡å¼çš„ç®€å•JSå®ç°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> Event = &#123;<br>    <span class="hljs-comment">// å­˜å‚¨è®¢é˜…ä¿¡æ¯</span><br>    list: &#123;&#125;,<br>    <span class="hljs-comment">// è®¢é˜…</span><br>    listen: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, fn</span>) </span>&#123;<br>        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.list[key]) &#123;<br>            <span class="hljs-keyword">this</span>.list[key] = []<br>        &#125;<br>        <span class="hljs-keyword">this</span>.list[key].push(fn)<br>    &#125;,<br>    <span class="hljs-comment">// å‘å¸ƒ</span><br>    trigger: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">let</span> key = <span class="hljs-built_in">Array</span>.prototype.shift.call(<span class="hljs-built_in">arguments</span>)<br>        <span class="hljs-keyword">let</span> fns = <span class="hljs-keyword">this</span>.list[key]<br>        <span class="hljs-keyword">if</span> (!fns || fns.length === <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, fn; fn = <span class="hljs-keyword">this</span>.list[i++];) &#123;<br>            fn.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>)<br>        &#125;<br>    &#125;,<br>    <span class="hljs-comment">// å–æ¶ˆè®¢é˜…</span><br>    remove: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, fn</span>) </span>&#123;<br>        fns = <span class="hljs-keyword">this</span>.list[key]<br>        <span class="hljs-keyword">if</span> (!fns) &#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> &#125;<br>        <span class="hljs-comment">// æ²¡æœ‰æŒ‡å®šå¯¹è±¡ï¼Œé»˜è®¤å…¨å–æ¶ˆ</span><br>        <span class="hljs-keyword">if</span> (!fn) &#123;<br>            fns &amp;&amp; (fns.length = <span class="hljs-number">0</span>)<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = fns.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span> ;i--) &#123;<br>                <span class="hljs-keyword">if</span> (fns[i] === fn) &#123;<br>                    fns.splice(i, <span class="hljs-number">1</span>)<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;,<br>    <span class="hljs-comment">// ç»™æ™®é€šå¯¹è±¡æ·»åŠ ä»¥ä¸Šæ–¹æ³•</span><br>    addEvent: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>) </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> Event) &#123;<br>            obj[i] = Event[i]<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹</strong></p>
<p>Ajax è¯·æ±‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// ä¼ ç»Ÿå†™æ³•ï¼Œä»£ç å°±éå¸¸è€¦åˆ</span><br>$.ajax(<span class="hljs-string">'http://127.0.0.1/index.php'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;<br>    rendedData(data);  <span class="hljs-comment">// æ¸²æŸ“æ•°æ®</span><br>    doAnimate(data);  <span class="hljs-comment">// å®ç°åŠ¨ç”» </span><br>&#125;);<br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// äº‹ä»¶è®¢é˜…æ¨¡å¼ï¼Œå®ç°ä»£ç çš„åˆ†ç¦»</span><br>$.ajax(â€œhttp:<span class="hljs-comment">//127.0.0.1/index.phpâ€,function(data)&#123;</span><br>    Obj.trigger(<span class="hljs-string">'success'</span>,data);  <span class="hljs-comment">// å‘å¸ƒè¯·æ±‚æˆåŠŸåçš„æ¶ˆæ¯</span><br>&#125;);<br><span class="hljs-comment">// ä¸‹é¢æˆ‘ä»¬æ¥è®¢é˜…æ­¤æ¶ˆæ¯ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨è®¢é˜…æ¸²æŸ“æ•°æ®è¿™ä¸ªæ¶ˆæ¯ï¼›</span><br>Obj.listen(<span class="hljs-string">'success'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;<br>   renderData(data);<br>&#125;);<br><span class="hljs-comment">// è®¢é˜…åŠ¨ç”»è¿™ä¸ªæ¶ˆæ¯</span><br>Obj.listen(<span class="hljs-string">'success'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;<br>   doAnimate(data); <br>&#125;);<br></code></pre></td></tr></table></figure>

<p>æ¨¡å—é—´é€šä¿¡</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!doctype <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--è®¢é˜…æ¨¡å¼æ¨¡å—--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"global.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"count"</span>&gt;</span>click<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"showcount"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span> = <span class="hljs-string">"a.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span> = <span class="hljs-string">"b.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// a.js</span><br><span class="hljs-keyword">let</span> a = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">var</span> button = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"count"</span>);<br>    button.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        Event.trigger(<span class="hljs-string">"add"</span>,count++);<br>    &#125;<br>&#125;)();<br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// b.js</span><br><span class="hljs-keyword">let</span> b = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> div = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"showcount"</span>);<br>    Event.listen(<span class="hljs-string">'add'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">count</span>)</span>&#123;<br>        div.innerHTML = count;<br>    &#125;);<br>&#125;)();<br></code></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>Event Loop</title>
    <url>/2020/05/20/EventLoop/</url>
    <content><![CDATA[<p>Event Loop æ˜¯ä¸ºäº† JS è¿›è¡Œå¼‚æ­¥æ“ä½œæ—¶é¿å…å‘ç”Ÿé˜»å¡è€Œè®¾è®¡çš„äº‹ä»¶æœºåˆ¶ã€‚</p>
<ul>
<li><p>JS æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œæ‰€ä»¥åŒä¸€æ—¶é—´åªèƒ½åšä¸€ä»¶äº‹</p>
</li>
<li><p>å¦‚æœè¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œæ²¡æœ‰ Event loop æœºåˆ¶ç¨‹åºä¼šä¸€ç›´ç­‰ç€å®Œæˆå¼‚æ­¥æ“ä½œè€Œå‘ç”Ÿé˜»å¡</p>
</li>
<li><p>å¼‚æ­¥æ“ä½œï¼šPromiseã€setTimeoutã€setInterval</p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ H5 çš„ Web Worker è¿›è¡Œå¤šçº¿ç¨‹æ“ä½œï¼Œä½†æ˜¯æµè¡Œ</p>
</li>
</ul>
<p>æœºåˆ¶</p>
<ul>
<li><p>ç®€è¨€ä¹‹å°±æ˜¯ JS åªæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ‰§è¡Œæ ˆçš„ä»»åŠ¡åå»æ£€æŸ¥å¼‚æ­¥çš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœå¼‚æ­¥äº‹ä»¶è§¦å‘ï¼Œåˆ™å°†å…¶åŠ åˆ°ä¸»çº¿ç¨‹çš„æ‰§è¡Œæ ˆã€‚</p>
</li>
<li><p>å¼‚æ­¥æ“ä½œä¼šæ”¾å…¥å¼‚æ­¥çš„ä»»åŠ¡é˜Ÿåˆ—</p>
</li>
<li><p>å¼‚æ­¥æ“ä½œåˆè¢«åˆ†ä¸º <code>å®ä»»åŠ¡</code> å’Œ <code>å¾®ä»»åŠ¡</code> æ¥æ‰§è¡Œ</p>
</li>
</ul>
<p>ä»»åŠ¡é˜Ÿåˆ—</p>
<ul>
<li>å®ä»»åŠ¡ï¼š<code>setInterval</code>ã€<code>setTimeout</code></li>
<li>å¾®ä»»åŠ¡ï¼š<code>new Promise</code>ã€<code>MutaionObserver</code></li>
</ul>
<p>æ‰§è¡Œè§„åˆ™</p>
<ul>
<li><p>ä¸»çº¿ç¨‹åŒæ­¥æ“ä½œ =&gt; å¾®ä»»åŠ¡ =&gt; å®ä»»åŠ¡</p>
</li>
<li><p>ç¬¬ä¸€æ­¥æ‰§è¡Œä¸»çº¿ç¨‹çš„åŒæ­¥æ“ä½œï¼Œç¬¬äºŒæ­¥å¦‚æœæœ‰å¾®ä»»åŠ¡æ”¾å…¥ä¸»çº¿ç¨‹æ‰§è¡Œæ²¡æœ‰çš„è¯å»æŸ¥çœ‹å®ä»»åŠ¡ï¼Œæœ€åå½“ä¸»çº¿ç¨‹å’Œå¾®ä»»åŠ¡æ£€æŸ¥å’Œæ‰§è¡Œå®Œæ¯•åæŠŠå®ä»»åŠ¡æ”¾åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œ</p>
</li>
</ul>
]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>JS æ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸ç­‰</title>
    <url>/2020/05/24/deepEqualFunc/</url>
    <content><![CDATA[<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> deepEqual = <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (x === y) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>  &#125;<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">"object"</span> &amp;&amp; x != <span class="hljs-literal">null</span>) &amp;&amp; (<span class="hljs-keyword">typeof</span> y === <span class="hljs-string">"object"</span> &amp;&amp; y != <span class="hljs-literal">null</span>)) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.keys(x).length != <span class="hljs-built_in">Object</span>.keys(y).length) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> prop <span class="hljs-keyword">in</span> x) &#123;<br>      <span class="hljs-keyword">if</span> (y.hasOwnProperty(prop)) &#123;<br>        <span class="hljs-keyword">if</span> (!deepEqual(x[prop], y[prop])) &#123;<br>          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>        &#125;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>git åŸºæœ¬æŒ‡ä»¤</title>
    <url>/2020/05/04/git%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4/</url>
    <content><![CDATA[<p><strong>æäº¤æ–‡ä»¶</strong></p>
<p>åˆå§‹åŒ– Git <code>git init</code> </p>
<p>æŠŠä¿®æ”¹å’Œæ–°å¢çš„æ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒº <code>git add .</code></p>
<p>æäº¤æš‚å­˜åŒºçš„æ–‡ä»¶åˆ°ä»“åº“ <code>git commit -m &quot;å¯¹æäº¤çš„æè¿°&quot;</code></p>
<p>æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ <code>git status</code>ï¼š</p>
<ul>
<li>çº¢è‰²ï¼šæ–°å»ºæ–‡ä»¶ã€æ–‡ä»¶å†…å®¹è¢«æ”¹åŠ¨ã€æ–‡ä»¶è¢«åˆ é™¤</li>
<li>ç»¿è‰²ï¼šåœ¨æš‚å­˜åŒºç­‰å¾…è¢« commit</li>
<li>working tree cleanï¼šå·²ç» commit æˆ–è€…æ–‡æ¡£æ²¡æœ‰è¢«æ”¹åŠ¨</li>
</ul>
<hr>
<p><strong>ç‰ˆæœ¬å›é€€</strong></p>
<p>æŸ¥çœ‹æäº¤å†å² <code>git log</code></p>
<p>æŸ¥çœ‹å‘½ä»¤å†å² <code>git reflog</code></p>
<p>å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ˆå°±æ˜¯ä¸Šä¸€æ¬¡ commit å‰çš„çŠ¶æ€ï¼‰<code>git reset --hard HEAD^</code></p>
<blockquote>
<p>^ è¡¨ç¤ºä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œ^^ è¡¨ç¤ºä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬ä¾æ¬¡ç±»æ¨</p>
</blockquote>
<p>å›é€€åˆ°ä¸Šä¸€ä¸ªæŒ‡å®šçš„ç‰ˆæœ¬ <code>git reset --hard commit_id</code></p>
<blockquote>
<p>commit_idï¼šä½¿ç”¨ git log æŸ¥çœ‹</p>
</blockquote>
<hr>
<p><strong>è¿œç¨‹ä»“åº“</strong></p>
<blockquote>
<p>ä»¥ Github ä¸ºä¾‹ï¼Œé…ç½® Github <a href="https://www.liaoxuefeng.com/wiki/896043488029600/896954117292416" target="_blank" rel="noopener">å»–é›ªå³° Git æ•™ç¨‹</a></p>
</blockquote>
<p>é…ç½®å¯†é’¥åˆ›å»ºè¿œç¨‹ä»“åº“åï¼Œå…³è”è¿œç¨‹ä»“åº“ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ git remote add origin git@ä½ çš„ github åœ°å€/ä»“åº“å.git<br></code></pre></td></tr></table></figure>

<p>æ¨é€åˆ°è¿œç¨‹ä»“åº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ git push -u origin master<br></code></pre></td></tr></table></figure>

<blockquote>
<p>ä»¥åæƒ³è¦æ¨é€åˆ°è¿œç¨‹ä»“åº“åªè¦ <code>git commit -m &quot;msg&quot;</code> å <code>git push</code> å°±å¯ä»¥</p>
</blockquote>
<p>å…‹éš†ä»“åº“æ–‡ä»¶åˆ°æœ¬åœ°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">clone</span> git@github.com:xxx/xxx.git<br></code></pre></td></tr></table></figure>

<hr>
<p><strong>åˆ†æ”¯æ“ä½œ</strong></p>
<blockquote>
<p>master æ˜¯ä¸»åˆ†æ”¯ï¼Œå…¬å¸ä¸€èˆ¬ç”¨äºä¸Šçº¿é¡¹ç›®ã€‚è€Œå¹³å¸¸æäº¤ä»£ç ä¸€èˆ¬ä¼šåœ¨å¦å¤–æ–°å»ºåˆ†æ”¯è¿›è¡Œæäº¤</p>
</blockquote>
<p>æŸ¥çœ‹åˆ†æ”¯ï¼š<code>git branch</code></p>
<p>åˆ›å»ºåˆ†æ”¯ï¼š<code>git branch &lt;name&gt;</code></p>
<p>åˆ‡æ¢åˆ†æ”¯ï¼š<code>git checkout &lt;name&gt;</code>æˆ–è€…<code>git switch &lt;name&gt;</code></p>
<p>åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼š<code>git checkout -b &lt;name&gt;</code>æˆ–è€…<code>git switch -c &lt;name&gt;</code></p>
<p>åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼š<code>git merge &lt;name&gt;</code></p>
<p>åˆ é™¤åˆ†æ”¯ï¼š<code>git branch -d &lt;name&gt;</code></p>
<hr>
<p><strong>æ ‡ç­¾ç®¡ç†</strong></p>
<p>å‘½ä»¤<code>git tag &lt;tagname&gt;</code> ç”¨äºæ–°å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œé»˜è®¤ä¸º<code>HEAD</code>ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªcommit idï¼›</p>
<p>å‘½ä»¤<code>git tag -a &lt;tagname&gt; -m &quot;blablabla...&quot;</code>å¯ä»¥æŒ‡å®šæ ‡ç­¾ä¿¡æ¯ï¼›</p>
<p>å‘½ä»¤<code>git tag</code>å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ã€‚</p>
<p>æ“ä½œæ ‡ç­¾ï¼š</p>
<ul>
<li>å‘½ä»¤<code>git push origin</code>å¯ä»¥æ¨é€ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›</li>
<li>å‘½ä»¤<code>git push origin --tags</code>å¯ä»¥æ¨é€å…¨éƒ¨æœªæ¨é€è¿‡çš„æœ¬åœ°æ ‡ç­¾ï¼›</li>
<li>å‘½ä»¤<code>git tag -d &lt;tagname&gt;</code>å¯ä»¥åˆ é™¤ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼›</li>
<li>å‘½ä»¤<code>git push origin :refs/tags/&lt;tagname&gt;</code>å¯ä»¥åˆ é™¤ä¸€ä¸ªè¿œç¨‹æ ‡ç­¾ã€‚</li>
</ul>
<hr>
<blockquote>
<p>è¯¦ç»†å†…å®¹ <a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener">å»–é›ªå³° Git æ•™ç¨‹</a></p>
</blockquote>
]]></content>
      <tags>
        <tag>è®¡ç®—æœºè½¯ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo åˆ›å»ºåšå®¢è¸©çš„å‘</title>
    <url>/2020/05/03/hexo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%B8%A9%E7%9A%84%E5%9D%91/</url>
    <content><![CDATA[<p>â€‹        ç¬¬ä¸€æ¬¡å†™åšå®¢é‚£å°±åæ§½ä¸€ä¸‹ç”¨ hexo åˆ›å»ºåšå®¢è¸©çš„å‘å§</p>
<p>â€‹        è¿™å°¼ç›å¦‚æœåœ¨ source/_posts ç›®å½•ä¸‹æ²¡æœ‰ .md æ–‡ä»¶æ˜¯ä¸èƒ½ <code>hexo g</code> åˆ›å»º .html é™æ€æ–‡ä»¶çš„ï¼ŒåºŸäº†è€åŠå¤©åŠ²æ‰</p>
<p>å‘ç°ã€‚æ°”æ­»æˆ‘äº†å¸Œæœ›å¤§å®¶åˆ«è¸©æˆ‘è¿™å‘äº†ï¼ï¼ˆè‡ªåŠ¨åˆ›å»ºåæœ‰ä¸€ä¸ª hello_world.md æ–‡ä»¶çš„ï¼Œä½†æˆ‘è¿™äººå¼ºè¿«ç—‡å‘ä½œæŠŠå®ƒ</p>
<p>åˆ äº†ğŸ˜€ï¼‰</p>
]]></content>
      <tags>
        <tag>åæ§½</tag>
      </tags>
  </entry>
  <entry>
    <title>redux, react-redux</title>
    <url>/2020/05/07/redux/</url>
    <content><![CDATA[<h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><ul>
<li><p>å…¨å±€çŠ¶æ€ç®¡ç†æ¨¡å—</p>
</li>
<li><p>ç®¡ç†ç»„ä»¶ä¹‹é—´ä¼ é€’çš„æ•°æ®</p>
</li>
</ul>
<p><strong>ä¸‰ä¸ªé‡è¦éƒ¨åˆ†</strong></p>
<ul>
<li><p><code>action</code></p>
</li>
<li><p><code>reducer</code>ï¼šè¿›è¡ŒçŠ¶æ€ä¿®æ”¹</p>
</li>
<li><p><code>state(store)</code>ï¼šå­˜å‚¨æ•°æ®çš„åœ°æ–¹</p>
</li>
</ul>
<blockquote>
<p>dispatch æ˜¯æ´¾å‘çš„äº‹ä»¶</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">import &#123; createStore &#125; from &#39;redux&#39;<br><br>&#x2F;&#x2F; reducer<br>const counterReducer &#x3D; (state &#x3D; &#123; count: 1 &#125;, action) &#x3D;&gt; &#123;<br>  return state<br>&#125;;<br><br>&#x2F;&#x2F; store<br>const store &#x3D; createStore(counterReducer);<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; å¦‚æœéœ€è¦æ”¹å˜ä¸€ä¸ª reducer çš„å€¼ï¼Œéœ€è¦ä½¿ç”¨ dispatch æ´¾å‘ä¸€ä¸ª action<br>&#x2F;&#x2F; action éœ€è¦ä¸¤ä¸ªå‚æ•°<br>&#x2F;&#x2F; 1. type    éœ€è¦ä½¿ç”¨ type åŒºåˆ†å¯¹ state åšä»€ä¹ˆæ“ä½œ<br>&#x2F;&#x2F; 2. payload ä¼ é€’çš„æ•°æ®<br><br>const counterReducer &#x3D; (state &#x3D; &#123; count: 1 &#125;, action) &#x3D;&gt; &#123;<br>  switch (action.type) &#123;<br>    case &#39;COUNT_ADD&#39;:<br>      return &#123;<br>        ...state, count: state.count + 1<br>      &#125;;<br>    case &#39;COUNT_REDUCE&#39;:<br>      return &#123;<br>        ...state, count: state.count - 1<br>      &#125;;<br>    default:<br>      return state;<br>  &#125;;<br>&#125;;<br><br>const store &#x3D; createStore(counterReducer);<br><br>store.dispatch(&#123;<br>  type: &#39;COUNT_ADD&#39;,<br>  payload: &#123;&#125;<br>&#125;);<br><br>store.dispatch(&#123;<br>  type: &#39;COUNT_REDUCE&#39;,<br>  payload: &#123;&#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨ chrome æ’ä»¶æŸ¥çœ‹çŠ¶æ€</strong></p>
<ul>
<li>Redux DevTools</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">const store &#x3D; createStore( <br>    counterReducer<br>    window.__REDUX_DEVTOOLS_EXTENSION_ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()<br>);<br></code></pre></td></tr></table></figure>

<hr>
<p><strong>ä½¿ç”¨å¤šä¸ª reducer</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F;ä½¿ç”¨ combineReducers<br>import &#123; createStore, combineReducers &#125; from &#39;redux&#39;<br><br>const counterReducer &#x3D; (state &#x3D; &#123; count: 1 &#125;, action) &#x3D;&gt; &#123;<br>  switch (action.type) &#123;<br>    case &#39;COUNT_ADD&#39;:<br>      return &#123;<br>        ...state, count: state.count + 1<br>      &#125;;<br>    case &#39;COUNT_REDUCE&#39;:<br>      return &#123;<br>        ...state, count: state.count - 1<br>      &#125;;<br>    default:<br>      return state;<br>  &#125;;<br>&#125;;<br><br>const postReducer &#x3D; (state &#x3D; &#123; list: [&#123; title: &#39;ä½ å¥½ï¼&#39; &#125;] &#125;, action) &#x3D;&gt; &#123;<br>  switch (action.type) &#123;<br>    case &#39;LOAD_POST&#39;:<br>      return &#123;<br>        ...state, list: action.payload<br>      &#125;;<br>    default:<br>      return state<br>  &#125;;<br>&#125;;<br><br>&#x2F;&#x2F;é€šè¿‡ combineReducers æŠŠå¤šä¸ª reducer è¿›è¡Œåˆå¹¶<br>const rootReducers &#x3D; combineReducers(&#123;<br>  counter: counterReducer,<br>  post: postReducer<br>&#125;);<br><br>const store &#x3D; createStore( <br>    rootReducers,<br>    window.__REDUX_DEVTOOLS_EXTENSION_ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()<br>);<br></code></pre></td></tr></table></figure>

<hr>
<p><strong>redux çš„ç½‘ç»œè¯·æ±‚</strong></p>
<blockquote>
<p>json holderï¼šç½‘ç«™ï¼Œä¼šæä¾›åœ¨çº¿çš„ API</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> redux ä½¿ç”¨ redux-thunk æ’ä»¶è¿›è¡Œç½‘ç»œè¯·æ±‚</span><br><span class="hljs-meta">$</span><span class="bash"> yarn add redux-thunk </span><br><span class="hljs-meta">$</span><span class="bash"> yarn add axios</span><br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; å¯¼å…¥éœ€è¦çš„æ’ä»¶<br>import &#123; createStore, combineReducers, compose, applyMiddleware &#125; from &#39;redux&#39;<br>import &#123; get &#125; from &#39;axios&#39;<br>import thunk from &#39;redux-thunk&#39;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; é…ç½® store<br>const store &#x3D; createStore(<br>    rootReducers,<br>    compose(<br>        applyMiddleware(...[thunk])  &#x2F;&#x2F;éœ€è¦ä½¿ç”¨çš„ä¸­é—´ä»¶æ•°ç»„<br>    ),<br>    window.__REDUX_DEVTOOLS_EXTENSION_ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()<br>);<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">const getPostsRequest &#x3D; () &#x3D;&gt; &#123;<br>    return get(&#39;https:&#x2F;&#x2F;xxx.com&#x2F;posts&#39;);<br>&#125;;<br><br>store.dispatch(async (dispatch) &#x3D;&gt; &#123;<br>    const res &#x3D; await getPostsRequest();<br>    dispatch(&#123;<br>        type: &#39;LOAD_POST&#39;,<br>        payload: res.data<br>    &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure>

<hr>
<p><strong>æ‹†åˆ†ä»£ç ï¼Œä½¿å…¶é˜…è¯»æ›´åˆç†</strong></p>
<ul>
<li>åœ¨ src æ–‡ä»¶å¤¹ä¸‹åˆ›å»º actions æ–‡ä»¶å¤¹ï¼ŒæŠŠæ‰€æœ‰çš„ action æ–‡ä»¶æ”¾åœ¨é‡Œé¢</li>
<li>åœ¨ src æ–‡ä»¶å¤¹ä¸‹åˆ›å»º reducers æ–‡ä»¶å¤¹ï¼ŒæŠŠæ‰€æœ‰çš„ reducer æ–‡ä»¶æ”¾åœ¨é‡Œé¢</li>
<li>åœ¨ src æ–‡ä»¶å¤¹ä¸‹åˆ›å»º services æ–‡ä»¶å¤¹ï¼ŒæŠŠæ‰€æœ‰çš„å…³äºç½‘ç»œè¯·æ±‚å¾—æ–‡ä»¶æ”¾åœ¨é‡Œé¢</li>
<li>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º store.js æ–‡ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; src&#x2F;services&#x2F;post_api.js<br>import &#123; get &#125; from &#39;axios&#39;<br><br>export function getPosts() &#123;<br>    return get(&#39;https:&#x2F;&#x2F;xxx.com&#x2F;posts&#39;);<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; src&#x2F;actions&#x2F;counter_action.js<br>export const countAddAction &#x3D; &#123;<br>    type: &#39;COUNT_ADD&#39;<br>&#125;<br><br>export const countReduceAction &#x3D; &#123;<br>    type: &#39;COUNT_REDUCE&#39;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; src&#x2F;actions&#x2F;post_action.js<br>import &#123; getPosts &#125; from &#39;..&#x2F;services&#x2F;post_api&#39;<br><br>export const loadPostsAction &#x3D; async (dispatch) &#x3D;&gt; &#123;<br>    const res &#x3D; await getPosts();<br>    dispatch(&#123;<br>        type: &#39;LOAD_POSTS&#39;,<br>        payload: res.data<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; src&#x2F;reducers&#x2F;post_reducer.js<br>const postReducer &#x3D; (state &#x3D; &#123; list: [&#123; id: 1, title: &#39;ä½ å¥½ï¼&#39; &#125;] &#125;, action) &#x3D;&gt; &#123;<br>    switch (action.type) &#123;<br>        case &#39;LOAD_POST&#39;:<br>            return &#123;<br>                ...state, list: action.payload<br>            &#125;;<br>        default:<br>            return state<br>    &#125;;<br>&#125;;<br><br>export default postReducer;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; src&#x2F;reducers&#x2F;counter_reducer.js<br>const counterReducer &#x3D; (state &#x3D; &#123; count: 1 &#125;, action) &#x3D;&gt; &#123;<br>    switch (action.type) &#123;<br>        case &#39;COUNT_ADD&#39;:<br>            return &#123;<br>                ...state, count: state.count + 1<br>            &#125;;<br>        case &#39;COUNT_REDUCE&#39;:<br>            return &#123;<br>                ...state, count: state.count - 1<br>            &#125;;<br>        default:<br>            return state;<br>    &#125;;<br>&#125;;<br><br>export default counterReducer;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; src&#x2F;reducers&#x2F;index.js<br>&#x2F;&#x2F;åˆå¹¶ reducer<br>import &#123; combineReducers &#125; from &#39;redux&#39;<br><br>import counterReducer from &#39;.&#x2F;counter_reducer&#39;<br>import postReducer from &#39;.&#x2F;post_reducer&#39;<br><br>const rootReducers &#x3D; combineReducers(&#123;<br>    counter: counterReducer,<br>    post: postReducer<br>&#125;);<br><br>export default rootReducers;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F; src&#x2F;store.js<br>&#x2F;&#x2F;åˆå¹¶ store<br><br>import &#123; createStore, compose, applyMiddleware &#125; from &#39;redux&#39;<br>import thunk from &#39;redux-thunk&#39;<br><br>import rootReducers from &#39;.&#x2F;reducers&#x2F;index&#39;<br><br>const store &#x3D; createStore(<br>    rootReducers,<br>    compose(<br>        applyMiddleware(...[thunk])<br>    ),<br>    window.__REDUX_DEVTOOLS_EXTENSION_ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()<br>);<br><br>export default store;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F;å¼•ç”¨ store<br>import store from &#39;.&#x2F;store&#39;<br><br>&#x2F;&#x2F;æ“ä½œ<br>import &#123; countAddAction &#125; from &#39;.&#x2F;actions&#x2F;counter_action&#39;<br>import &#123; loadPostsAction &#125; from &#39;.&#x2F;actions&#x2F;post_action&#39;<br><br>store.dispatch(countAddAction);<br>store.dispatch(loadPostsAction);<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="åœ¨-react-ä½¿ç”¨-redux"><a href="#åœ¨-react-ä½¿ç”¨-redux" class="headerlink" title="åœ¨ react ä½¿ç”¨ redux"></a>åœ¨ react ä½¿ç”¨ redux</h2><figure class="highlight shell"><table><tr><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> éœ€è¦å®‰è£…æ’ä»¶</span><br><span class="hljs-meta">$</span><span class="bash"> yarn add react-redux</span><br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">import React from &#39;react&#39;<br>import ReactDOM from &#39;react-dom&#39;<br>import &#123; Provider &#125; from &#39;react-redux&#39;<br><br>import App from &#39;.&#x2F;App&#39;<br><br>import store from &#39;.&#x2F;store&#39;<br><br>&#x2F;&#x2F; ä½¿ç”¨ react-redux çš„ Provider å…ƒç´ æŠŠ &lt;App &#x2F;&gt; åŒ…è£¹èµ·æ¥ï¼Œè¿™æ ·æ‰€æœ‰çš„ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨ store é‡Œé¢çš„æ•°æ®<br>ReactDOM.render(&lt;Provider store&#x3D;&#123;store&#125;&gt;<br>    &lt;App &#x2F;&gt;<br>&lt;&#x2F;Provider&gt;, document.getElementById(&#39;root&#39;));<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs react">&#x2F;&#x2F;ä½¿ç”¨ connect ç»„ä»¶æ ¹ redux è¿æ¥<br>import React, &#123; Component &#125; from &#39;react&#39;<br>import &#123; connect &#125; from &#39;react-redux&#39;<br>import &#123; loadPostsAction &#125; from &#39;..&#x2F;actions&#x2F;post_action&#39;<br><br>class PostList extends Component &#123;<br>    constructor(props) &#123;<br>        super(props);<br>        console.log(this.props);<br>    &#125;;<br>    componentDidMount() &#123;<br>        this.props.dispatch(loadPostsAction); &#x2F;&#x2F;åŠ è½½è¿œç¨‹æ•°æ®<br>    &#125;;<br>    render() &#123;<br>        const &#123; list &#125; &#x3D; this.props.post;<br>        const Posts &#x3D; list.map(post&#x3D;&gt;&#123;<br>            return (&lt;li key&#x3D;&#123;post.id&#125;&gt;&#123;post.title&#125;&lt;&#x2F;li&gt;)<br>        &#125;)<br>        return (<br>            &lt; div &gt;<br>                &lt;ul&gt;&#123; Posts &#125;&lt;&#x2F;ul&gt;<br>            &lt;&#x2F;div &gt;<br>        );<br>    &#125;;<br>&#125;;<br><br>const mapStateToProps &#x3D; (state, ownProps) &#x3D;&gt; &#123;<br>    return &#123;<br>        post: state.post<br>    &#125;;<br>&#125;;<br><br>&#x2F;&#x2F; é€šè¿‡ connect è¿æ¥ç»„ä»¶å’Œ redux æ•°æ®ï¼Œä¼ é€’ state æ•°æ®å’Œ dispatch æ–¹æ³•<br>export default connect(mapStateToProps)(PostList);<br></code></pre></td></tr></table></figure>

<hr>
<p>##</p>
]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
</search>
